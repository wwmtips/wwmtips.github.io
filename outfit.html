<div class="quest-detail-container" style="text-align: left;">
    <style>
        /* [수묵화 테마] 드롭다운 및 쇼케이스 스타일 */
        .outfit-selector-container {
            margin-bottom: 20px;
            text-align: right; /* 우측 정렬 */
        }
        .outfit-select {
            background-color: #f4f4f2;
            border: 1px solid var(--wuxia-accent-gold);
            color: var(--wuxia-text-main);
            padding: 5px 10px;
            border-radius: 4px;
            font-family: inherit;
            font-size: 0.9em;
            cursor: pointer;
            outline: none;
        }
        .outfit-display-box {
            background-color: #f4f4f2;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin-top: 15px;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.02);
            text-align: center;
        }
        .outfit-img {
            width: 100%;
            height: auto;
            border-radius: 2px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        .back-to-list-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 8px 16px;
            background-color: var(--wuxia-accent-gold);
            color: #fff;
            text-decoration: none;
            border-radius: 2px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
        }
    </style>

    <div class="outfit-selector-container">
        <span style="font-size: 0.85em; color: #888; margin-right: 10px;">다른 의상 보기:</span>
        <select id="outfit-dropdown" class="outfit-select" onchange="changeOutfit(this.value)">
            </select>
    </div>

    <div style="border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 15px; margin-bottom: 20px;">
        <span style="background-color: var(--wuxia-accent-gold); color: #fff; padding: 2px 8px; border-radius: 2px; font-weight: bold; font-size: 0.8em; vertical-align: middle;">의상</span>
        <h2 id="outfit-title" style="color: var(--wuxia-accent-gold); display: inline-block; margin: 0 0 0 10px; vertical-align: middle;">
            쇼케이스 상세보기
        </h2>
    </div>

    <div class="outfit-display-box">
        <img id="dynamic-outfit-img" src="" alt="의상 이미지" class="outfit-img">
    </div>

    <div style="text-align: center;">
        <a onclick="location.href='index.html'" class="back-to-list-btn">
             목록으로 돌아가기
        </a>
    </div>

    <script>
        /**
         * 의상 전환 및 초기화 스크립트
         */
        const TOTAL_OUTFITS = 22;
        const imgElement = document.getElementById('dynamic-outfit-img');
        const titleElement = document.getElementById('outfit-title');
        const dropdown = document.getElementById('outfit-dropdown');

        // 1. 드롭다운 옵션 생성 (1~22)
        function setupDropdown(currentId) {
            for (let i = 1; i <= TOTAL_OUTFITS; i++) {
                const opt = document.createElement('option');
                opt.value = i;
                opt.innerText = `쇼케이스 #${i}`;
                if (i == currentId) opt.selected = true;
                dropdown.appendChild(opt);
            }
        }

        // 2. 의상 데이터 업데이트 함수
        function updateContent(id) {
            if (!imgElement) return;
            
            // 이미지 경로 및 타이틀 변경
            imgElement.src = `images/outfit/wwm${id}.jpg`;
            titleElement.innerText = `쇼케이스 #${id} 상세보기`;
            
            // URL 파라미터 업데이트 (새로고침 없이 주소만 변경)
            const newUrl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?id=' + id;
            window.history.pushState({ path: newUrl }, '', newUrl);
        }

        // 3. 드롭다운 변경 시 호출
        function changeOutfit(id) {
            updateContent(id);
        }

        // 초기 실행
        (function init() {
            const urlParams = new URLSearchParams(window.location.search);
            const currentId = urlParams.get('id') || '1';
            
            setupDropdown(currentId);
            updateContent(currentId);
        })();
    </script>
</div>