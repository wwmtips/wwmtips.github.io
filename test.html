<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïó∞Ïö¥: ÌïúÍµ≠ ÏúÑÌÇ§</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5SMVDZTDST"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-5SMVDZTDST');
    </script>
    <meta property="og:type" content="website">
    <meta property="og:description" content="Í∞ïÌò∏Ïùò Í≥†ÏàòÍ∞Ä ÎêòÍ∏∞ ÏúÑÌïú ÌïÑÏàò ÏßÄÏπ®ÏÑú. ÏùºÏùº/Ï£ºÍ∞Ñ ÏàôÏ†ú, Î¨¥Î¶ºÎ°ù, ÏµúÏã† Ïø†Ìè∞ ÏΩîÎìúÎ•º ÌïúÎààÏóê ÌôïÏù∏ÌïòÏÑ∏Ïöî.">
    <meta name="description" content="Í∞ïÌò∏Ïùò Í≥†ÏàòÍ∞Ä ÎêòÍ∏∞ ÏúÑÌïú ÌïÑÏàò ÏßÄÏπ®ÏÑú. ÏùºÏùº/Ï£ºÍ∞Ñ ÏàôÏ†ú, Î¨¥Î¶ºÎ°ù, ÏµúÏã† Ïø†Ìè∞ ÏΩîÎìúÎ•º ÌïúÎààÏóê ÌôïÏù∏ÌïòÏÑ∏Ïöî.">

    <meta property="og:title" content="Ïó∞Ïö¥ ÏúÑÌÇ§">
    <meta property="og:image" content="fav/apple-icon-120x120.png">
    <meta property="og:url" content="https://wwm.tips/">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style_dummy.css">

    <link rel="apple-touch-icon" sizes="57x57" href="fav/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="fav/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="fav/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="fav/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="fav/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="fav/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="fav/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="fav/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="fav/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="fav/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="fav/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="fav/favicon-16x16.png">
    <link rel="manifest" href="fav/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="fav/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script>
        // ‚òÖ‚òÖ‚òÖ Íµ¨Í∏Ä Ïï±Ïä§ Ïä§ÌÅ¨Î¶ΩÌä∏ Î∞∞Ìè¨ URL (Ïù¥Î≤§Ìä∏ ÌéòÏù¥ÏßÄÏôÄ ÎèôÏùºÌïú Ï£ºÏÜå) ‚òÖ‚òÖ‚òÖ
        const EVENT_API_URL = "https://script.google.com/macros/s/AKfycbzSYkfFvOnpuL9MUWpHJk-wFa6_u8pAJW5OOVy0oYY8JK36E5n7oq7wxlMnU-vGKqBr/exec";
        // 2. [Ï∂îÍ∞Ä] ÎπåÎìú Í≥µÏú†Ïö© Ï£ºÏÜå (ÏÉàÎ°ú ÎßåÎì† Ïä§ÌÅ¨Î¶ΩÌä∏ Î∞∞Ìè¨ Ï£ºÏÜå)
        const BUILD_API_URL = "https://script.google.com/macros/s/AKfycbz7c8YREyAa6aD1F3f7Hve3meAsOtjepSX_zyZLVbloj9qosdLgSArdBYFGKGYmNU2_tQ/exec";

        /* document.addEventListener("DOMContentLoaded", function() {
             checkEventStatus(); // Ïù¥Î≤§Ìä∏ Î°úÏßÅÏùÄ EVENT_API_URLÏùÑ ÏÇ¨Ïö© (ÏàòÏ†ï Î∂àÌïÑÏöî)
         });*/

        function checkEventStatus() {
            const banner = document.getElementById('luckyBanner');
            const title = document.getElementById('luckyTitle');
            const desc = document.getElementById('luckyDesc');

            if (!banner) return;

            // Î°úÎî© Ï§ë ÌÅ¥Î¶≠ Î∞©ÏßÄ
            banner.style.pointerEvents = 'none';
            banner.style.cursor = 'wait';
            banner.style.opacity = '0.7';

            // 1. ÎÇ¥ IP Í∞ÄÏ†∏Ïò§Í∏∞
            fetch('https://api.ipify.org?format=json')
                .then(res => res.json())
                .then(ipData => {
                    const userIp = ipData.ip;
                    // 2. ÏÑúÎ≤ÑÏóê ÏÉÅÌÉú + ÎÇ¥ IP Ï†ÑÏÜ°
                    return fetch(`${EVENT_API_URL}?action=status&ip=${userIp}`);
                })
                .then(response => response.text())
                .then(data => {
                    // Î°úÎî© Ìï¥Ï†ú
                    banner.style.pointerEvents = 'auto';
                    banner.style.cursor = 'pointer';
                    banner.style.opacity = '1';

                    // ‚òÖ [ÏºÄÏù¥Ïä§ 1] ÎÇ¥Í∞Ä ÎãπÏ≤®ÏûêÏù∏ Í≤ΩÏö∞
                    if (data.startsWith("MYWIN")) {
                        const myCode = data.split(":")[1]; // ÏΩîÎìú Ï∂îÏ∂ú

                        // Î∞∞ÎÑà Ïä§ÌÉÄÏùº (Í∏àÏÉâÏúºÎ°ú Í∞ïÏ°∞ÌïòÍ±∞ÎÇò, Í∏∞Î≥∏ Îπ®Í∞ï Ïú†ÏßÄ)
                        banner.classList.remove('ended');

                        // ÌÅ¥Î¶≠ Ïãú ÏΩîÎìú ÏïåÎ¶º
                        banner.onclick = function (e) {
                            e.preventDefault(); // ÌéòÏù¥ÏßÄ Ïù¥Îèô ÎßâÍ∏∞
                            alert(`Ï∂ïÌïòÌï©ÎãàÎã§! ÎåÄÌòëÏùò ÎãπÏ≤® ÏΩîÎìú: [ ${myCode} ]\nÏûäÏßÄ ÎßêÍ≥† Ï∫°Ï≤òÌï¥ÎëêÏãúÏò§!\n24ÏãúÍ∞Ñ ÎÇ¥Ïóê Îì±Î°ùÎêòÏßÄ ÏïäÏùÑ Í≤ΩÏö∞ Îã§Ïùå Ïù¥Î≤§Ìä∏Î•º ÏúÑÌï¥ ÏûêÎèô ÌôòÎ∂à Ï≤òÎ¶¨ÎêòÏò§!`);
                        };

                        title.innerText = "üéâ Ï∂ïÌïòÌïòÏò§! ÎãπÏ≤®Ïù¥Ïò§! üéâ";
                        // desc.style.fontWeight = "bold"; 
                        desc.innerText = "Ïó¨Í∏∞Î•º ÎàåÎü¨ ÎãπÏ≤® ÏΩîÎìúÎ•º ÌôïÏù∏ÌïòÏãúÏò§!";

                        // ‚òÖ [ÏºÄÏù¥Ïä§ 2] Îã§Î•∏ ÏÇ¨ÎûåÏù¥ ÎãπÏ≤®ÎêòÏñ¥ Ï¢ÖÎ£åÎêú Í≤ΩÏö∞
                    } else if (data.startsWith("GAMEOVER")) {
                        const parts = data.split(":");
                        let winnerName = "ÏùµÎ™Ö";
                        if (parts.length > 1) winnerName = parts[1];

                        // ÌùëÎ∞± Ï≤òÎ¶¨
                        banner.classList.add('ended');

                        banner.onclick = function (e) {
                            e.preventDefault();
                            alert(`Ïù¥ÎØ∏ [${winnerName}]ÎãòÏù¥ ÎãπÏ≤®ÎêòÏÖ®ÏäµÎãàÎã§. Îã§Ïùå Í∏∞ÌöåÏóê!`);
                        };

                        title.innerText = "ÌñâÏö¥Î¥âÌà¨ Ïù¥Î≤§Ìä∏ Ï¢ÖÎ£å";
                        title.style.color = "#ffcdd2";
                        desc.innerText = `${winnerName} ÎåÄÌòëÏù¥ ÌñâÏö¥Î¥âÌà¨Î•º Ïó¨ÏÖ®ÏÜå!`;

                        // ‚òÖ [ÏºÄÏù¥Ïä§ 3] Ïù¥Î≤§Ìä∏ ÏßÑÌñâ Ï§ë
                    } else {
                        banner.onclick = function () { location.href = 'event/'; };
                        title.innerText = "ÌñâÏö¥Î¥âÌà¨ ÎèÑÏ∞©!";
                        desc.innerText = "ÏÜåÎãπÏ£ºÏ≤òÎüº [ÏÉàÏΩ§Îã¨ÏΩ§]Ìïú ÎäêÎÇåÏúºÎ°ú!";
                    }
                })
                .catch(err => {
                    console.log("Ïò§Î•ò:", err);
                    // ÏóêÎü¨ Î∞úÏÉù Ïãú Í∏∞Î≥∏ Î≥µÍµ¨
                    banner.style.pointerEvents = 'auto';
                    banner.style.cursor = 'pointer';
                    banner.style.opacity = '1';
                    banner.onclick = function () { location.href = 'event/'; };
                });
        }
    </script>
    </body>

</html>

</head>

<body>

    <div id="fixed-top-bar">
        <header id="main-header">
            <div class="logo">
                <span class="logo-icon">
                    <a href="#" onclick="switchTab('home'); closeSidebar(); return false;">
                        <img src="images/logo.png" width="36px" height="36px" alt="Î°úÍ≥†">
                    </a>
                </span>
            </div>

            <div class="search-container">
                <input type="text" id="header-search-input" placeholder="ÌÜµÌï© Í≤ÄÏÉâ" autocomplete="off">
                <button id="search-clear-btn" class="search-clear-btn" style="display:none;">X</button>
                <div id="global-search-results" class="search-dropdown"></div>
            </div>

            <button id="menu-toggle-btn" onclick="toggleSidebar()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </header>

    </div>


    <main id="main-content">

        <div id="view-home">
            <div class="hero-slider-wrapper">
                <div id="hero-slider-track" class="slider-track"></div>
                <div class="slider-controls">
                    <button class="slider-btn prev" onclick="moveSlide(-1)">‚ùÆ</button>
                    <button class="slider-btn next" onclick="moveSlide(1)">‚ùØ</button>
                </div>
                <div id="slider-indicators" class="slider-indicators"></div>
            </div>
            <!-- Ïù¥Î≤§Ìä∏ -->

            <section class="timer-section">
                <div class="section-header-clickable" onclick="openGuideDirect('npc.html',this);">
                    <h3><span class="deco-bar"></span>Í∞ïÌò∏Î†π</h3>
                    <span style="font-size:0.8em; color:#999; margin-right:5px;">Ï†ÑÏ≤¥Î≥¥Í∏∞ ></span>
                </div>
                <div id="gangho-timer-list" class="map-grid">
                </div>
            </section>

            <div id="timer-sheet-modal" class="bottom-sheet-modal" onclick="closeTimerSheet(event)">
                <div class="sheet-container">
                    <button type="button" class="sheet-close-btn" onclick="closeTimerSheet()">&times;</button>
                    <div class="sheet-body-content" style="padding-top: 20px;">
                        <div id="timer-detail-content">
                        </div>
                    </div>
                </div>
            </div>

            <section class="section-header-clickable">
                <h3><span class="deco-bar"></span>Ïù∏Î¨º Ï†ïÎ≥¥</h3>
            </section>
            <div id="home-char-list">
            </div>

            <section class="section-header-clickable">
                <h3><span class="deco-bar"></span>ÏßÄÏó≠ Ï†ïÎ≥¥</h3>
            </section>
            <div id="home-map-list">
            </div>


            <section class="achievement-section">
                <div class="section-header-clickable" onclick="switchTab('archive')">
                    <h3><span class="deco-bar"></span>ÏóÖÏ†Å</h3>
                    <span style="font-size:0.8em; color:#999; margin-right:5px;">Ï†ÑÏ≤¥Î≥¥Í∏∞ ></span>
                </div>
                <div id="achievement-list" class="achievement-grid">
                    <div style="text-align:center; color:#999; padding:10px;">Î°úÎî© Ï§ë...</div>
                </div>
            </section>


            <section class="recent-updates-section">
                <div class="section-header-clickable">
                    <h3><span class="deco-bar"></span>ÏóÖÎç∞Ïù¥Ìä∏</h3>
                </div>
                <div id="home-recent-news" class="quest-grid"></div>
            </section>


           <div style="display:none;">
        <input type="text" id="header-search-input">
        <button id="search-clear-btn"></button>
        <div id="global-search-results"></div>

        <button id="nav-home"></button>
        <button id="nav-code"></button>
        <button id="nav-quest"></button>
        <button id="nav-chunji"></button>
        <button id="nav-quiz"></button>
        <button id="nav-builder"></button>
        <button id="nav-map"></button>
        <button id="nav-more"></button>

        <div id="hero-slider-track"></div>
        <div id="slider-indicators"></div>
        <div id="luckyBanner"></div>
        <div id="luckyTitle"></div>
        <div id="luckyDesc"></div>

        <div id="view-home"></div>
        <div id="view-quiz"></div>
        <div id="view-quest"></div>
        <div id="view-news"></div>
        <div id="view-builder"></div>
        <div id="view-map-detail"></div>
        <div id="view-chunji"></div>
        <div id="view-archive"></div>
    </div>

    <div id="view-guide" style="display: none;">
        <div id="guide-content-loader" style="text-align: center; margin-top: 50px; font-size: 20px; font-weight: bold;">
            üéâ ÎìúÎîîÏñ¥ ÎÇòÏôîÎã§! (Î°úÎî© Ï§ë...)
        </div>
    </div>

            <div id="view-guide" style="display: none;">
                <div id="guide-content-loader" style="text-align: center; margin-top: 50px;">
                    Ïó¥Ïã¨Ìûà Î°úÎî© Ï§ë... (Ïù¥ Í∏ÄÏûêÍ∞Ä Î≥¥Ïù¥Î©¥ ÏÑ±Í≥µ)
                </div>
            </div>

            <div id="view-quiz" style="display: none;">
                <section id="answer-container">
                    <div class="status-bar" id="quiz-counter-area">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</div>
                    <div class="inner-search-area">
                        <div class="search-input-wrapper">
                            <input type="text" id="quiz-local-search" class="inner-search-box"
                                placeholder="Îã®ÏÑúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî. (Ïòà: Í∞ÄÏãú)">
                        </div>
                    </div>
                    <div class="list-scroll-area">
                        <table class="answer-table">
                            <colgroup>
                                <col style="width: 30%">
                                <col style="width: 30%">
                                <col style="width: 40%">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>Îã®ÏÑú</th>
                                    <th>Ï†ïÎãµ</th>
                                    <th>Ï†úÎ≥¥</th>
                                </tr>
                            </thead>
                            <tbody id="quiz-table-body"></tbody>
                        </table>
                    </div>
                </section>
            </div>

            <div id="view-quest" style="display: none;">
                <section id="quest-list-view" style="margin-top: 0; padding: 0;">
                    <!--  <div class="guide-grid-menu" style="grid-template-columns: repeat(3, 1fr); margin-bottom: 30px; margin-top: 20px;">
                    <div class="guide-item-btn active" onclick="filterQuestType('all', this)"><span class="guide-title">Ï†ÑÏ≤¥</span></div>
                    <div class="guide-item-btn" onclick="filterQuestType('Ïù∏Ïó∞Ïùò Í∂§Ï†Å', this)"><span class="guide-title">Ïù∏Ïó∞Ïùò Í∂§Ï†Å</span></div>
                    <div class="guide-item-btn" onclick="filterQuestType('ÎßåÏÇ¨Î°ù', this)"><span class="guide-title">ÎßåÏÇ¨Î°ù</span></div>
                    <div class="guide-item-btn" onclick="filterQuestType('ÌôîÍ∞ÑÏßë', this)"><span class="guide-title">ÌôîÍ∞ÑÏßë</span></div>
                    <div class="guide-item-btn" onclick="filterQuestType('Ïù¥Î≤§Ìä∏', this)"><span class="guide-title">Ïù¥Î≤§Ìä∏</span></div>
                    <div class="guide-item-btn" onclick="filterQuestType('Í∏∞ÌÉÄ', this)"><span class="guide-title">Í∏∞ÌÉÄ</span></div>
                </div>-->

                    <div class="filter-bar-wrapper" style="margin-bottom: 20px; margin-top: 20px;">
                        <select id="quest-type-select" class="custom-select" onchange="onQuestTypeChange()">
                            <option value="all">Ï†ÑÏ≤¥</option>
                            <option value="Ïù∏Ïó∞Ïùò Í∂§Ï†Å">Ïù∏Ïó∞Ïùò Í∂§Ï†Å</option>
                            <option value="ÎßåÏÇ¨Î°ù">ÎßåÏÇ¨Î°ù</option>
                            <option value="ÌÉêÏÉâ">ÌÉêÏÉâ</option>
                            <option value="ÌôîÍ∞ÑÏßë">ÌôîÍ∞ÑÏßë</option>
                            <option value="Í∞ÄÏù¥Îìú">Í∞ÄÏù¥Îìú</option>
                            <option value="Ïù¥Î≤§Ìä∏">Ïù¥Î≤§Ìä∏</option>
                            <option value="Í∏∞ÌÉÄ">Í∏∞ÌÉÄ</option>
                        </select>

                        <select id="quest-location-select" class="custom-select" onchange="applyQuestFilter()">
                            <option value="all">Î™®Îì† ÏßÄÏó≠</option>
                        </select>
                    </div>

                    <div
                        style="border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 8px; margin-bottom: 10px;">
                        <span
                            style="background-color: var(--wuxia-accent-gold); color: #fff; padding: 2px 8px; border-radius: 2px; font-weight: bold; font-size: 0.8em; vertical-align: middle;">Î™©Î°ù</span>
                        <h2
                            style="color: var(--wuxia-accent-gold); display: inline-block; margin: 0 0 0 10px; vertical-align: middle;">
                            Î¨¥Î¶ºÎ°ù</h2>
                        <p style="color: var(--wuxia-text-sub); font-size: 0.9em; margin-top: 2px;">Í≤åÏûÑ ÎÇ¥ ÌÄòÏä§Ìä∏, ÏÑ∏Í≥ÑÍ¥Ä, ÎßåÏÇ¨Î°ù
                            Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.</p>
                    </div>

                    <div id="quest-grid-container" class="quest-grid"></div>
                    <div id="pagination-container" class="pagination-controls"></div>
                </section>

                <section id="quest-detail-view" style="display: none;">
                    <button class="back-button" onclick="showQuestList()">‚Üê Î™©Î°ùÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞</button>
                    <div id="quest-content-loader" class="detail-content-box">Î°úÎî© Ï§ë...</div>
                </section>
            </div>


            <div id="view-archive" style="display: none;">
                <section style="margin-top: 20px;">
                    <div
                        style="border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 8px; margin-bottom: 20px;">
                        <span
                            style="background-color: var(--wuxia-accent-gold); color: #fff; padding: 2px 8px; border-radius: 2px; font-weight: bold; font-size: 0.8em; vertical-align: middle;">Î™©Î°ù</span>
                        <h2
                            style="color: var(--wuxia-accent-gold); display: inline-block; margin: 0 0 0 10px; vertical-align: middle;">
                            ÏóÖÏ†Å ÎèÑÍ∞ê</h2>
                        <p style="color: var(--wuxia-text-sub); font-size: 0.9em; margin-top: 5px;">Í∞ïÌò∏ÏóêÏÑú Îã¨ÏÑ±Ìï† Ïàò ÏûàÎäî Î™®Îì† ÏóÖÏ†ÅÏùò
                            Í∏∞Î°ùÏûÖÎãàÎã§.</p>
                    </div>

                    <div id="archive-grid-container" class="archive-full-grid"></div>
                </section>
            </div>

            <div id="view-chunji" style="display: none;">
                <section id="chunji-list-view" style="margin-top: 0; padding: 0;">

                    <div class="filter-bar-wrapper" style="margin-bottom: 20px; margin-top: 20px;">
                        <select id="chunji-type-select" class="custom-select" onchange="onChunjiTypeChange()">
                            <option value="all">Ï†ÑÏ≤¥</option>
                            <option value="Î≥ëÍ∏∞">Î≥ëÍ∏∞</option>
                            <option value="ÌòëÎèÑ">ÌòëÎèÑ</option>
                            <option value="ÏùåÏãù">ÏùåÏãù</option>
                            <option value="ÌíçÎ¨º">ÌíçÎ¨º</option>
                            <option value="ÏãúÌôî">ÏãúÌôî</option>
                        </select>

                        <select id="chunji-subtype-select" class="custom-select" onchange="applyChunjiFilter()">
                            <option value="all">Î™®Îì† Ìï≠Î™©</option>
                        </select>
                    </div>
                    <div
                        style="border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 8px; margin-bottom: 20px;">
                        <span
                            style="background-color: var(--wuxia-accent-gold); color: #fff; padding: 2px 8px; border-radius: 2px; font-weight: bold; font-size: 0.8em; vertical-align: middle;">Î™©Î°ù</span>
                        <h2
                            style="color: var(--wuxia-accent-gold); display: inline-block; margin: 0 0 0 10px; vertical-align: middle;">
                            Ï≤úÏßÄÎ°ù</h2>
                        <p style="color: var(--wuxia-text-sub); font-size: 0.9em; margin-top: 2px;">Ïú†Î¨ºÏùò ÌöçÎìùÏ≤òÏôÄ Ìï¥ÎèÖÎ≤ïÏùÑ Í∏∞Î°ùÌïú
                            Í≥†ÏÑúÏûÖÎãàÎã§.</p>
                    </div>

                    <div id="chunji-list-container" class="chunji-list"></div>
                    <div id="chunji-pagination-container" class="pagination-controls"
                        style="margin-top: 20px; margin-bottom: 20px;"></div>
                </section>

                <section id="chunji-detail-view" style="display: none;">
                    <button class="back-button" onclick="showChunjiList()">‚Üê Î™©Î°ùÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞</button>
                    <div id="chunji-detail-content" class="detail-content-box"></div>
                </section>
            </div>

            <div id="view-person-detail" style="display: none;">
                <div
                    style="margin-top: 20px; border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 10px; margin-bottom: 20px;">
                    <button class="back-button" onclick="switchTab('home')" style="margin: 0;">‚Üê ÎèåÏïÑÍ∞ÄÍ∏∞</button>
                </div>

                <div class="quest-detail-container" id="person-detail-content">


                    <div id="view-news" style="display: none;">
                        <section style="margin-top: 30px;">
                            <div class="large-font-chunk"
                                style="margin-bottom: 20px; border:none; background:none; padding-left:0;">
                                <h2 style="color:var(--wuxia-accent-gold); margin:0;">Í≥µÏßÄÏÇ¨Ìï≠</h2>
                            </div>
                            <div id="full-news-list" class="item-list-container"></div>
                        </section>
                    </div>

                    <div id="view-guide">
                        <div id="guide-content-loader">Î°úÎî© Ï§ë...</div>
                    </div>

                    <div id="view-builder" style="display: none;">
                        <div id="tools-menu" style="margin-top: 20px; padding: 0 5px;">
                            <div class="guide-grid-menu"
                                style="grid-template-columns: repeat(3, 1fr); margin-bottom: 10px;">
                                <div class="guide-item-btn active" onclick="filterBuilds('all', this)">Ï†ÑÏ≤¥</div>
                                <div class="guide-item-btn" onclick="filterBuilds('PvE', this)">ÌÉêÌóò (PvE)</div>
                                <div class="guide-item-btn" onclick="filterBuilds('PvP', this)">ÎÖºÍ≤Ä (PvP)</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr; gap: 8px; margin-bottom: 20px;">
                                <button
                                    onclick="document.getElementById('tools-menu').style.display='none'; document.getElementById('builder-interface').style.display='block';"
                                    style="padding: 12px 0; background-color: #fff; border: 1px solid #ddd; border-radius: 4px; color: #333; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 5px; transition: all 0.2s;"
                                    onmouseover="this.style.borderColor='var(--wuxia-accent-gold)'; this.style.color='var(--wuxia-accent-gold)'"
                                    onmouseout="this.style.borderColor='#ddd'; this.style.color='#333'">
                                    <span>‚úçÔ∏è</span> ÎπåÎìú ÎßåÎì§Í∏∞
                                </button>

                            </div>
                            <div id="build-list-container" class="build-list-wrapper">
                                <div style="text-align:center; padding: 30px; color: #999;">
                                    Î∂àÎü¨Ïò§Îäî Ï§ë...
                                </div>
                            </div>
                        </div>

                        <div id="builder-interface" style="display: none;">
                            <button class="back-button" onclick="closeBuilderInterface()">
                                ‚Üê Î™©Î°ùÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                            </button>
                            <div class="quest-detail-container" style="margin-top: 10px;">
                                <div
                                    style="border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 15px; margin-bottom: 20px;">
                                    <span
                                        style="background-color: var(--wuxia-accent-gold); color: #fff; padding: 2px 8px; border-radius: 2px; font-weight: bold; font-size: 0.8em; vertical-align: middle;">ÎèÑÍµ¨</span>
                                    <h2
                                        style="color: var(--wuxia-accent-gold); display: inline-block; margin: 0 0 0 10px; vertical-align: middle;">
                                        ÎÇòÎßåÏùò ÎπåÎìú
                                    </h2>
                                    <p style="color: var(--wuxia-text-sub); font-size: 0.9em; margin-top: 5px;">ÏõêÌïòÎäî Ïû•ÎπÑÏôÄ
                                        Î¨¥Í≥µÏùÑ Ï°∞Ìï©ÌïòÏó¨ Í≥µÏú†ÌïòÏÑ∏Ïöî.</p>
                                </div>

                                <div style="margin-bottom: 30px;">
                                    <span class="slot-label">Î¨¥Í∏∞ Î∞è Î¨¥Ïà† (2)</span>
                                    <div class="slot-group">
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('weapons', 0)">
                                                <span>+</span><img id="slot-weapons-0" style="display:none;"></div>
                                            <div class="slot-name" id="name-weapons-0"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('weapons', 1)">
                                                <span>+</span><img id="slot-weapons-1" style="display:none;"></div>
                                            <div class="slot-name" id="name-weapons-1"></div>
                                        </div>
                                    </div>

                                    <span class="slot-label">Ïã¨Î≤ï (4)</span>
                                    <div class="slot-group">
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('hearts', 0)">
                                                <span>+</span><img id="slot-hearts-0" style="display:none;"></div>
                                            <div class="slot-name" id="name-hearts-0"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('hearts', 1)">
                                                <span>+</span><img id="slot-hearts-1" style="display:none;"></div>
                                            <div class="slot-name" id="name-hearts-1"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('hearts', 2)">
                                                <span>+</span><img id="slot-hearts-2" style="display:none;"></div>
                                            <div class="slot-name" id="name-hearts-2"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('hearts', 3)">
                                                <span>+</span><img id="slot-hearts-3" style="display:none;"></div>
                                            <div class="slot-name" id="name-hearts-3"></div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 30px;">


                                    </div>
                                    <span class="slot-label">ÎπÑÍ≤∞ (8)</span>
                                    <div class="slot-group">
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 0)">
                                                <span>+</span><img id="slot-marts-0" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-0"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 1)">
                                                <span>+</span><img id="slot-marts-1" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-1"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 2)">
                                                <span>+</span><img id="slot-marts-2" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-2"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 3)">
                                                <span>+</span><img id="slot-marts-3" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-3"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 4)">
                                                <span>+</span><img id="slot-marts-4" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-4"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 5)">
                                                <span>+</span><img id="slot-marts-5" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-5"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 6)">
                                                <span>+</span><img id="slot-marts-6" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-6"></div>
                                        </div>
                                        <div class="slot-wrapper">
                                            <div class="item-slot" onclick="openBuilderModal('marts', 7)">
                                                <span>+</span><img id="slot-marts-7" style="display:none;"></div>
                                            <div class="slot-name" id="name-marts-7"></div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display:flex; justify-content:space-between; align-items:center;">
                                    <span class="slot-label" style="margin-top: 0;">üî• Ï∂îÏ≤ú ÏΩ§Î≥¥</span>
                                    <button onclick="resetComboSlots()"
                                        style="font-size:0.8em; color:#999; background:none; border:none; cursor:pointer;">‚Ü∫
                                        Ï¥àÍ∏∞Ìôî</button>
                                </div>
                                <div class="slot-group" id="combo-slot-container">
                                </div>
                                <div class="builder-footer">
                                    <div
                                        style="background: #f9f9f9; padding: 15px; border-radius: 8px; border: 1px solid #eee; margin-bottom: 15px;">

                                        <div
                                            style="display: flex; gap: 20px; margin-bottom: 15px; justify-content: center;">
                                            <label
                                                style="cursor: pointer; display: flex; align-items: center; gap: 5px; font-weight: bold;">
                                                <input type="radio" name="buildType" value="PvE" checked> üå≤ ÌÉêÌóò (PvE)
                                            </label>
                                            <label
                                                style="cursor: pointer; display: flex; align-items: center; gap: 5px; font-weight: bold;">
                                                <input type="radio" name="buildType" value="PvP"> ‚öîÔ∏è ÎÖºÍ≤Ä (PvP)
                                            </label>
                                        </div>

                                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                            <div style="flex: 1; text-align: left;">
                                                <span class="slot-label"
                                                    style="margin-top: 0; border: none; padding: 0; margin-bottom: 5px; font-size: 0.85em;">‚úçÔ∏è
                                                    ÎπåÎìú Ïù¥Î¶Ñ</span>
                                                <input type="text" id="build-title" placeholder="Ïòà: Î¨¥Ï†ÅÏùò Ïö∞ÏÇ∞"
                                                    maxlength="20"
                                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
                                            </div>
                                            <div style="flex: 1; text-align: left;">
                                                <span class="slot-label"
                                                    style="margin-top: 0; border: none; padding: 0; margin-bottom: 5px; font-size: 0.85em;">üë§
                                                    ÎãâÎÑ§ÏûÑ</span>
                                                <input type="text" id="build-creator" placeholder="ÏûëÏÑ±ÏûêÎ™Ö" maxlength="10"
                                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
                                            </div>
                                        </div>

                                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                            <div style="flex: 1; text-align: left;">
                                                <span class="slot-label"
                                                    style="margin-top: 0; border: none; padding: 0; margin-bottom: 5px; font-size: 0.85em;">‚öîÔ∏è
                                                    Ï∂îÏ≤ú Î¨¥Í∏∞</span>
                                                <input type="text" id="rec-weapons" placeholder="Ïòà: ÎπÑÏ§Ä ÏÑ∏Ìä∏"
                                                    maxlength="20"
                                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
                                            </div>
                                            <div style="flex: 1; text-align: left;">
                                                <span class="slot-label"
                                                    style="margin-top: 0; border: none; padding: 0; margin-bottom: 5px; font-size: 0.85em;">üõ°Ô∏è
                                                    Ï∂îÏ≤ú Î∞©Ïñ¥Íµ¨</span>
                                                <input type="text" id="rec-armor" placeholder="Ïòà: Ïù¥ÏÑ§ ÏÑ∏Ìä∏" maxlength="20"
                                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
                                            </div>
                                        </div>

                                        <div style="margin-bottom: 10px; text-align: left;">
                                            <span class="slot-label"
                                                style="margin-top: 0; border: none; padding: 0; margin-bottom: 5px; font-size: 0.85em;">üìù
                                                ÏÑ§Î™Ö (ÏÑ†ÌÉù)</span>
                                            <textarea id="build-desc" placeholder="ÎπåÎìúÏùò ÌäπÏßïÏù¥ÎÇò Ïö¥ÏòÅÎ≤ïÏùÑ Í∞ÑÎã®Ìûà Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî." rows="3"
                                                style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; resize: none; font-family: inherit;"></textarea>
                                        </div>
                                    </div>

                                    <div style="display: flex; gap: 10px;">
                                        <button class="browse-button" style="flex: 1; background-color: #555;"
                                            onclick="generateBuildUrl()">üîó ÎßÅÌÅ¨Îßå Î≥µÏÇ¨</button>
                                        <button class="browse-button"
                                            style="flex: 2; background-color: var(--wuxia-accent-gold);"
                                            onclick="shareBuildToCloud()">üì§ ÎπåÎìú Í≥µÏú†ÌïòÍ∏∞</button>
                                    </div>
                                    <input type="text" id="result-url" readonly onclick="this.select()"
                                        style="display:none; margin-top:10px; width:100%;">
                                </div>

                                <div id="builder-modal" class="modal-overlay" onclick="closeBuilderModal(event)"
                                    style="display:none;">
                                    <div class="modal-content" onclick="event.stopPropagation()">
                                        <h3 id="builder-modal-title" style="margin-top:0;">ÏïÑÏù¥ÌÖú ÏÑ†ÌÉù</h3>
                                        <div id="builder-modal-list" class="item-list-grid"></div>
                                        <button onclick="closeBuilderModal(null)"
                                            style="margin-top:20px; width:100%; padding:10px;">Îã´Í∏∞</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <style>
                            /* --- Ìó§Îçî Î†àÏù¥ÏïÑÏõÉ ÏàòÏ†ï --- */
                            #main-header {
                                display: flex;
                                align-items: center;
                                justify-content: space-between;
                                padding: 10px 15px;
                                height: 60px;
                                /* ÎÜíÏù¥ Í≥†Ï†ï */
                                box-sizing: border-box;
                                background: #fff;
                                /* Î∞∞Í≤ΩÏÉâ */
                                border-bottom: 1px solid #eee;
                            }

                            /* Í≤ÄÏÉâÎ∞îÍ∞Ä ÎÇ®ÏùÄ Í≥µÍ∞ÑÏùÑ Ï∞®ÏßÄÌïòÎèÑÎ°ù */
                            .search-container {
                                flex: 1;
                                margin: 0 15px;
                                /* ÏñëÏòÜ Í∞ÑÍ≤© */
                                position: relative;
                            }

                            /* Î©îÎâ¥ Î≤ÑÌäº Ïä§ÌÉÄÏùº */
                            #menu-toggle-btn {
                                background: none;
                                border: none;
                                cursor: pointer;
                                color: #333;
                                padding: 5px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                            }

                            /* --- ÏÇ¨Ïù¥ÎìúÎ∞î (Ïã¨Ìîå ÎîîÏûêÏù∏) --- */
                            #sidebar-overlay {
                                position: fixed;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: rgba(0, 0, 0, 0.3);
                                /* Î∞∞Í≤Ω Ïñ¥Îë°Í∏∞ Ï°∞Ï†à */
                                z-index: 9998;
                                opacity: 0;
                                pointer-events: none;
                                transition: opacity 0.3s;
                            }

                            #sidebar-overlay.active {
                                opacity: 1;
                                pointer-events: auto;
                            }

                            #main-sidebar {
                                position: fixed;
                                top: 0;
                                right: -260px;
                                /* ÎÑàÎπÑ 260px */
                                width: 260px;
                                height: 100%;
                                background: #fff;
                                z-index: 9999;
                                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.05);
                                /* Í∑∏Î¶ºÏûê ÏùÄÏùÄÌïòÍ≤å */
                                transition: right 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
                                display: flex;
                                flex-direction: column;
                                padding-top: 10px;
                                box-sizing: border-box;
                            }

                            #main-sidebar.active {
                                right: 0;
                            }

                            /* Ìó§Îçî: ÏïÑÏ£º Ïã¨ÌîåÌïòÍ≤å */
                            .sidebar-header {
                                padding: 10px 25px 20px 25px;
                                /* Ïó¨Î∞± Ï°∞Ï†ï */
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                            }

                            .sidebar-header h3 {
                                margin: 0;
                                font-size: 1.2em;
                                font-weight: 700;
                                color: #333;
                            }

                            .close-sidebar-btn {
                                background: none;
                                border: none;
                                font-size: 1.2em;
                                cursor: pointer;
                                color: #333;
                                padding: 0;
                            }

                            .sidebar-content {
                                flex: 1;
                                overflow-y: auto;
                                padding: 0 10px;
                                /* Ï¢åÏö∞ Ïó¨Î∞± ÏïΩÍ∞Ñ */
                            }

                            /* Î©îÎâ¥ ÏïÑÏù¥ÌÖú: ÏïÑÏù¥ÏΩò Ï†úÍ±∞, ÌÖçÏä§Ìä∏ ÏúÑÏ£º */
                            .sidebar-item {
                                padding: 14px 15px;
                                font-size: 1em;
                                font-weight: 500;
                                color: #333;
                                cursor: pointer;
                                display: flex;
                                justify-content: space-between;
                                /* ÌôîÏÇ¥Ìëú Ï†ïÎ†¨Ïö© */
                                align-items: center;
                                border-radius: 8px;
                                /* Îë•Í∑º Î™®ÏÑúÎ¶¨ */
                                transition: background 0.2s, color 0.2s;
                                margin-bottom: 2px;
                            }

                            .sidebar-item:hover {
                                background-color: #f7f7f7;
                                color: #000;
                            }

                            /* ÌôîÏÇ¥Ìëú: ÏûëÍ≥† Ïã¨ÌîåÌïòÍ≤å */
                            .sidebar-item .arrow {
                                font-size: 0.7em;
                                color: #999;
                                transition: transform 0.3s;
                            }

                            .sidebar-item.expanded .arrow {
                                transform: rotate(180deg);
                            }

                            .sidebar-item.expanded {
                                font-weight: 700;
                                /* Ïó¥Î†∏ÏùÑ Îïå Í∞ïÏ°∞ */
                            }

                            /* ÏÑúÎ∏åÎ©îÎâ¥: Î∞∞Í≤ΩÏÉâ ÏóÜÏù¥ Îì§Ïó¨Ïì∞Í∏∞Îßå */
                            .sidebar-sub-list {
                                display: none;
                                padding: 5px 0 10px 0;
                            }

                            .sidebar-sub-list button {
                                display: block;
                                width: 100%;
                                text-align: left;
                                padding: 10px 15px 10px 35px;
                                /* Îì§Ïó¨Ïì∞Í∏∞ */
                                background: none;
                                border: none;
                                font-size: 0.95em;
                                color: #666;
                                cursor: pointer;
                                border-radius: 8px;
                                transition: color 0.2s;
                            }

                            .sidebar-sub-list button:hover {
                                color: var(--wuxia-accent-gold, #d4af37);
                                /* Ìò∏Î≤Ñ Ïãú Í∞ïÏ°∞ÏÉâ */
                                background-color: #fafafa;
                            }

                            /* ÏÉÅÎã® Ìó§Îçî ÎÜíÏù¥ÏôÄ Î≥∏Î¨∏ Ïó¨Î∞±ÏùÑ Í∞ïÏ†úÎ°ú ÎßûÏ∂§ */
                            #fixed-top-bar {
                                height: 60px !important;
                                /* Ìó§Îçî ÎÜíÏù¥ Í≥†Ï†ï */
                                overflow: visible !important;
                                /* ÎÇ¥Ïö©Î¨ºÏù¥ ÏûòÎ¶¨ÏßÄ ÏïäÎèÑÎ°ù */
                            }

                            #main-content {
                                padding-top: 60px !important;
                                /* Î≥∏Î¨∏ÏùÑ Ìó§Îçî Î∞îÎ°ú Î∞ë(60px)ÏóêÏÑú ÏãúÏûëÌïòÍ≤å ÎãπÍπÄ */
                                margin-top: 0 !important;
                                /* ÌòπÏãú Î™®Î•º Ïô∏Î∂Ä Ïó¨Î∞± Ï†úÍ±∞ */
                            }

                            /* (ÌòπÏãú Ïä¨ÎùºÏù¥Îçî ÏûêÏ≤¥Ïóê Ïó¨Î∞±Ïù¥ ÏûàÎã§Î©¥ Ï†úÍ±∞) */
                            .hero-slider-wrapper {
                                margin-top: 0 !important;
                            }

                            /* --- ÏÇ¨Ïù¥ÎìúÎ∞î ÌôîÏÇ¥Ìëú (ÏñáÏùÄ ÏÑ† Ïä§ÌÉÄÏùº) --- */
                            .sidebar-item .arrow {
                                display: inline-block;
                                width: 8px;
                                /* ÌôîÏÇ¥Ìëú ÎÑàÎπÑ */
                                height: 8px;
                                /* ÌôîÏÇ¥Ìëú ÎÜíÏù¥ */
                                border: solid #999;
                                /* ÏÑ† ÏÉâÏÉÅ */
                                border-width: 0 2px 2px 0;
                                /* Ïò§Î•∏Ï™Ω, ÏïÑÎûòÏ™ΩÎßå ÏÑ†ÏùÑ Í∑∏Î¶º („Ñ±Ïûê Î∞òÎåÄ Î™®Ïñë) */
                                transform: rotate(45deg);
                                /* -45ÎèÑ ÌöåÏ†ÑÏãúÏºúÏÑú Ïò§Î•∏Ï™Ω(>)ÏùÑ Î≥¥Í≤å Ìï® */
                                transition: transform 0.3s ease;
                                /* Î∂ÄÎìúÎü¨Ïö¥ ÌöåÏ†Ñ */
                                margin-right: 5px;
                                /* ÏúÑÏπò Ï°∞Ï†ï */
                                margin-bottom: 2px;
                                /* ÎÜíÏù¥ ÎØ∏ÏÑ∏ Ï°∞Ï†ï */
                            }

                            /* Î©îÎâ¥Í∞Ä Ïó¥Î†∏ÏùÑ Îïå (ÏïÑÎûòÎ°ú ÌöåÏ†Ñ) */
                            .sidebar-item.expanded .arrow {
                                transform: rotate(-135deg);
                                /* 45ÎèÑ ÌöåÏ†ÑÏãúÏºúÏÑú ÏïÑÎûòÏ™Ω(v)ÏùÑ Î≥¥Í≤å Ìï® */
                                border-color: var(--wuxia-accent-gold, #d4af37);
                                /* Ïó¥Î¶¨Î©¥ ÏÉâÏÉÅ Í∞ïÏ°∞ (ÏÑ†ÌÉùÏÇ¨Ìï≠) */
                            }

                            /* --- [ÏàòÏ†ï] ÏÇ¨Ïù¥ÎìúÎ∞î Î†àÏù¥ÏïÑÏõÉ (Flex Ï†ÅÏö©ÏúºÎ°ú ÌïòÎã® Í≥†Ï†ï Íµ¨ÌòÑ) --- */
                            #main-sidebar {
                                position: fixed;
                                top: 0;
                                right: -260px;
                                width: 260px;
                                height: 100%;
                                background: #fff;
                                z-index: 9999;
                                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.05);
                                transition: right 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);

                                /* ‚ñº‚ñº‚ñº ÌïµÏã¨: Flex Column ÏÑ§Ï†ï ‚ñº‚ñº‚ñº */
                                display: flex;
                                flex-direction: column;
                                box-sizing: border-box;
                            }

                            /* --- [ÏàòÏ†ï] Î©îÎâ¥ Î¶¨Ïä§Ìä∏ ÏòÅÏó≠ (ÎÇ®ÏùÄ Í≥µÍ∞Ñ Î™®Îëê Ï∞®ÏßÄ) --- */
                            .sidebar-content {
                                flex: 1;
                                /* ÎÇ®ÏùÄ ÎÜíÏù¥Î•º Îã§ Ï∞®ÏßÄÌï¥ÏÑú ÌïòÎã® ÏöîÏÜåÎ•º Î∞îÎã•ÏúºÎ°ú Î∞à */
                                overflow-y: auto;
                                /* Î©îÎâ¥Í∞Ä Í∏∏Ïñ¥ÏßÄÎ©¥ Ïó¨Í∏∞Îßå Ïä§ÌÅ¨Î°§ */
                                padding: 10px;
                            }

                            /* --- [ÏµúÏ¢Ö ÏàòÏ†ï] ÏÇ¨Ïù¥ÎìúÎ∞î ÌïòÎã® Ï†úÎ≥¥ Î∞∞ÎÑà --- */
                            .sidebar-footer-report {
                                flex-shrink: 0;
                                padding: 12px 20px;
                                /* Ï¢åÏö∞ Ïó¨Î∞± ÏÇ¥Ïßù ÎÑìÌûò */
                                border-top: 1px solid #eee;
                                background-color: #f9f9f9;

                                display: flex;
                                align-items: center;
                                /* ÏàòÏßÅ Ï§ëÏïô Ï†ïÎ†¨ */
                                gap: 12px;
                                /* Ïù¥ÎØ∏ÏßÄÏôÄ ÌÖçÏä§Ìä∏ Í∑∏Î£π ÏÇ¨Ïù¥ Í∞ÑÍ≤© */

                                cursor: pointer;
                                transition: background-color 0.2s;
                            }

                            .sidebar-footer-report:hover {
                                background-color: #f0f0f0;
                            }

                            /* ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ */
                            .mini-profile-img img {
                                width: 38px;
                                /* ÌÅ¨Í∏∞ ÏÇ¥Ïßù ÌÇ§ÏõÄ */
                                height: 38px;
                                border-radius: 50%;
                                object-fit: cover;
                                border: 1px solid #ddd;
                                display: block;
                                background-color: #fff;
                            }
                        </style>

                        <div id="build-detail-overlay" class="bottom-sheet-overlay"
                            onclick="if(event.target === this) closeBuildDetailSheet(event)"></div>
                        <div id="<build-de></build-de>tail-sheet" class="bottom-sheet"
                            onclick="event.stopPropagation()">
                            <div class="sheet-header">
                                <h3 id="build-sheet-title">ÎπåÎìú ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>
                                <button onclick="closeBuildDetailSheet(null)" class="close-sheet-btn">‚úï</button>
                            </div>
                            <div class="sheet-content build-detail-content">
                                <div style="text-align: center; padding: 50px; color: #999;">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</div>
                            </div>
                        </div>
                    </div>

                    <div id="view-map-detail" style="display: none; height: 100%;">
                        <div
                            style="margin-top: 20px; border-bottom: 2px solid var(--wuxia-accent-red); padding-bottom: 10px; margin-bottom: 15px; display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center;">
                                <button class="back-button" onclick="closeMapDetail()" style="margin: 0 15px 0 0;">‚Üê
                                    ÎèåÏïÑÍ∞ÄÍ∏∞</button>
                                <div style="display: inline-block;">
                                    <span
                                        style="background-color: var(--wuxia-accent-gold); color: #fff; padding: 2px 8px; border-radius: 2px; font-weight: bold; font-size: 0.8em; vertical-align: middle;">ÏßÄÎèÑ</span>
                                    <h2 id="map-detail-title"
                                        style="display: inline-block; color: var(--wuxia-accent-gold); margin: 0 0 0 5px; vertical-align: middle;">
                                        ÏßÄÎèÑ ÏÉÅÏÑ∏
                                    </h2>
                                </div>
                            </div>
                        </div>

                        <div class="quest-detail-container"
                            style="padding: 0; overflow: hidden; height: calc(100vh - 250px); background: #1a1a1a; border: 1px solid #333;">
                            <iframe id="map-iframe" src="" frameborder="0"
                                style="width: 100%; height: 100%; display: block;"></iframe>
                        </div>
                    </div>

                    <script>
                        document.addEventListener("DOMContentLoaded", () => {
                            if (new URLSearchParams(window.location.search).get('b')) {
                                document.getElementById('tools-menu').style.display = 'none';
                                document.getElementById('builder-interface').style.display = 'block';
                            }
                        });
                        // ÏÇ¨Ïù¥ÎìúÎ∞î Ïó¥Í∏∞/Îã´Í∏∞ ÌÜ†Í∏Ä
                        function toggleSidebar() {
                            const sidebar = document.getElementById('main-sidebar');
                            const overlay = document.getElementById('sidebar-overlay');

                            // ÌÅ¥ÎûòÏä§ ÌÜ†Í∏ÄÎ°ú CSS Ïï†ÎãàÎ©îÏù¥ÏÖò ÏûëÎèô
                            if (sidebar.classList.contains('active')) {
                                closeSidebar();
                            } else {
                                sidebar.classList.add('active');
                                overlay.classList.add('active');
                                // Ïä§ÌÅ¨Î°§ Î∞©ÏßÄ (ÏÑ†ÌÉùÏÇ¨Ìï≠)
                                document.body.style.overflow = 'hidden';
                            }
                        }

                        // ÏÇ¨Ïù¥ÎìúÎ∞î Îã´Í∏∞
                        function closeSidebar() {
                            const sidebar = document.getElementById('main-sidebar');
                            const overlay = document.getElementById('sidebar-overlay');

                            sidebar.classList.remove('active');
                            overlay.classList.remove('active');
                            document.body.style.overflow = '';
                        }

                        // ÏÇ¨Ïù¥ÎìúÎ∞î ÎÇ¥Î∂Ä ÏÑúÎ∏åÎ©îÎâ¥ ÌÜ†Í∏Ä (ÏïÑÏΩîÎîîÏñ∏ Ìö®Í≥º)
                        function toggleSidebarSub(element) {
                            // ÌÅ¥Î¶≠Îêú ÏöîÏÜåÏùò Îã§Ïùå ÌòïÏ†ú ÏöîÏÜå(Î¶¨Ïä§Ìä∏)Î•º Ï∞æÏùå
                            const subList = element.nextElementSibling;

                            // ÌëúÏãú ÏÉÅÌÉú ÌÜ†Í∏Ä
                            if (subList.style.display === 'block') {
                                subList.style.display = 'none';
                                element.classList.remove('expanded');
                            } else {
                                subList.style.display = 'block';
                                element.classList.add('expanded');
                            }
                        }

                    </script>

    </main>



    <footer id="main-footer" style="padding: 20px 15px; margin-top: 30px;">
        <div class="version-info" style="margin-bottom: 5px;">
            „ÄåÏó∞Ïö¥„Äç ÌïúÍµ≠ ÏúÑÌÇ§ <span style="font-size: 0.8em; font-weight: normal; color: #666;">v1.0</span>
        </div>

        <p class="copyright-disclaimer" style="margin-bottom: 10px; font-size: 0.75em;">
            Î≥∏ ÏúÑÌÇ§Îäî Ìå¨Ïóê ÏùòÌï¥ Ï†úÏûë/Ïö¥ÏòÅÎêòÎ©∞ Í≥µÏãù ÏúÑÌÇ§Í∞Ä ÏïÑÎãôÎãàÎã§.<br>
            Îç∞Ïù¥ÌÑ∞Ïùò Ï†ÄÏûëÍ∂åÏùÄ ÏõêÏ†ÄÏûëÍ∂åÏûêÏóêÍ≤å ÏûàÏäµÎãàÎã§.
        </p>

        <div style="margin-top: 10px;">
            <a href="https://wwm.tips/qna" target="_blank"
                style="color: #555; font-size: 0.85em; text-decoration: none;">
                Î¨∏Ïùò Î∞è Ï†úÎ≥¥
            </a>
            <span style="color: #ccc; margin: 0 8px; font-size: 0.8em;">|</span>
            <a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;"
                style="color: #555; font-size: 0.85em; text-decoration: none;">
                Îß® ÏúÑÎ°ú
            </a>
        </div>
        <div id="sidebar-overlay" onclick="closeSidebar()"></div>
        <aside id="main-sidebar">
            <div class="sidebar-header">
                <h3>Î©îÎâ¥</h3>
                <button class="close-sidebar-btn" onclick="closeSidebar()">‚úï</button>
            </div>

            <div class="sidebar-content">
                <div class="sidebar-item" id="nav-home" onclick="closeSidebar(); switchTab('home');">
                    Ìôà
                </div>
                <div class="sidebar-item" id="nav-hw" onclick="closeSidebar(); switchTab('npc.html',this);">
                    Ìï† Ïùº Î™©Î°ù
                </div>
                <div class="sidebar-group">
                    <div class="sidebar-item has-sub" onclick="toggleSidebarSub(this)">
                        <span>ÎèÑÍ∞ê</span>
                        <span class="arrow"></span>
                    </div>
                    <div class="sidebar-sub-list">
                        <button onclick="closeSidebar(); openGuideDirect('harts.html');">Ïã¨Î≤ï</button>
                        <button onclick="closeSidebar(); openGuideDirect('marts.html');">ÎπÑÍ≤∞</button>
                        <button onclick="closeSidebar(); switchTab('archive');">ÏóÖÏ†Å</button>
                        <button onclick="closeSidebar(); openGuideDirect('boss.html');">Î≥¥Ïä§ Í≥µÎûµ</button>

                        <button onclick="closeSidebar(); openGuideDirect('code.html');">ÍµêÌôò ÏΩîÎìú</button>
                    </div>
                </div>

                <div class="sidebar-group">
                    <div class="sidebar-item has-sub" id="nav-guide" onclick="toggleSidebarSub(this)">
                        <span>Í≥µÎûµ</span>
                        <span class="arrow"></span>
                    </div>
                    <div class="sidebar-sub-list" id="nav-quest">
                        <button onclick="closeSidebar(); switchTab('quest');">
                            Î¨¥Î¶ºÎ°ù</button>

                        <button id="nav-chunji" onclick="closeSidebar(); switchTab('chunji');">
                            Ï≤úÏßÄÎ°ù</button>
                    </div>
                </div>
                <div class="sidebar-item" id="nav-quiz" onclick="closeSidebar(); switchTab('quiz');">
                    Ïä§Î¨¥Í≥†Í∞ú Ï°±Î≥¥
                </div>
                <div class="sidebar-item" id="nav-quiz" onclick="location.href='map/'">
                    ÏßÄÎèÑ
                </div>
                <div class="sidebar-group">
                    <div class="sidebar-item has-sub" id="nav-tool" onclick="toggleSidebarSub(this)">
                        <span>ÎèÑÍµ¨</span>
                        <span class="arrow"></span>
                    </div>
                    <div class="sidebar-sub-list">

                        <button id="nav-builder" onclick="closeSidebar(); switchTab('builder');">ÎπåÎìú Ï†úÏûë</button>
                        <button onclick="closeSidebar(); openGuideDirect('sim.html');">Ïã¨Î†• Í≥ÑÏÇ∞Í∏∞</button>
                    </div>
                </div>
            </div>
            <div class="sidebar-footer-report" onclick="closeSidebar(); openReportSheet()">
                <div class="mini-profile-img">
                    <img src="images/profile.jpg" onerror="this.src='images/logo.png'" alt="Ï†úÎ≥¥">
                </div>
                <div class="footer-text-group">
                    <span class="footer-main-text">Ïù∏Í≤åÏûÑ Ï†úÎ≥¥ÌïòÍ∏∞</span>

                </div>
            </div>

        </aside>

        <p style="margin-top: 15px; margin-bottom: 0; font-size: 0.7em; color: #999;">
            &copy; 2025 WWM.TIPS. All rights reserved.
        </p>
    </footer>

    <div id="report-sheet-modal" class="bottom-sheet-modal" onclick="closeReportSheet(event)">
        <div class="sheet-container">
            <button type="button" class="sheet-close-btn" onclick="closeReportSheet()">
                &times; </button>
            <div class="sheet-tabs">
                <button class="sheet-tab-btn active" onclick="switchReportTab('report', this)">Ïù∏Í≤åÏûÑ Ï†úÎ≥¥</button>
                <button class="sheet-tab-btn" onclick="switchReportTab('gift', this)">ÏùëÏõêÌïòÍ∏∞</button>
            </div>

            <div class="sheet-body-content">

                <div id="tab-content-report" class="tab-content-item" style="display: block;">
                    <div style="padding: 20px 0;">

                        <p style="color: #555; line-height: 1.6; margin-bottom: 20px; font-size: 0.95em;">
                            ÏúÑÌÇ§Ïóê Ïò§Î•òÍ∞Ä Î∞úÏÉùÌïòÍ±∞ÎÇò Ïù¥ÎØ∏ÏßÄ ÎàÑÎùΩ Îì± Ïù¥Ïäà Î∞úÍ≤¨ Ïãú Ïù∏Í≤åÏûÑ ÎÇ¥ <strong>Í∑ìÏÜçÎßê</strong>Î°ú Ï†úÎ≥¥Ìï¥ Ï£ºÏãúÎ©¥ Î≥¥Îã§ Îπ†Î•¥Í≤å ÌôïÏù∏ ÌõÑ Ï≤òÎ¶¨ Ìï† Ïàò ÏûàÏäµÎãàÎã§.
                        </p>

                        <div
                            style="background-color: #fff5f5; border: 1px dashed #ef9a9a; border-radius: 4px; padding: 15px;">
                            <p style="color: #c62828; font-weight: bold; font-size: 0.9em; margin: 0 0 5px 0;">‚ö† Ï£ºÏùòÏÇ¨Ìï≠
                            </p>
                            <p style="color: #d32f2f; font-size: 0.85em; margin: 0; line-height: 1.4;">
                                ÏúÑÌÇ§ Ïò§Î•ò Ï†úÎ≥¥ Ïô∏Ïùò ÏÇ¨Ï†ÅÏù∏ Î©îÏãúÏßÄÎÇò Ïû•ÎÇúÏÑ± Í∑ìÏÜçÎßêÏùÑ Î≥¥ÎÇ¥ÏãúÎäî Í≤ΩÏö∞,ÎãµÎ≥Ä ÏóÜÏù¥ <strong>Ï∞®Îã®</strong>Îê† Ïàò ÏûàÏäµÎãàÎã§.
                            </p>
                        </div>

                        <div style="margin-top: 20px; text-align: center;">
                            <button onclick="copyToClipboard('0047792402', this)"
                                style="background: #333; color: #fff; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 0.9em;">
                                'Ïú§Ï´ë' ID Î≥µÏÇ¨ÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                </div>

                <div id="tab-content-gift" class="tab-content-item" style="display: none;">
                    <div style="padding: 20px 0;">
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 20px; line-height: 1.5;">
                            Ïª§ÌîºÎ≥¥Îã® Ïù∏Í≤åÏûÑ ÎÇ¥ ÌîÑÎ°úÌïÑÏóêÏÑú <strong>Ï¢ãÏïÑÏöî</strong>Î•º ÎàåÎü¨ ÏùëÏõêÌï¥Ï£ºÏÑ∏Ïöî.
                        </p>

                        <div style="display: flex; flex-direction: column; gap: 15px;">

                            <div style="border: 1px solid #eee; border-radius: 4px; overflow: hidden;">
                                <div
                                    style="background: #f9f9f9; padding: 8px 12px; font-size: 0.85em; font-weight: bold; color: #555;">
                                    STEP 1.ÏπúÍµ¨ Ï∂îÍ∞Ä > ID ÏûÖÎ†•
                                </div>
                                <div
                                    style="height: 90px; background: #eee; display: flex; align-items: center; justify-content: center; color: #aaa;">
                                    <img src="images/step1.jpg" alt="IDÍ≤ÄÏÉâ"
                                        style="width:100%; height:100%; object-fit:cover;">
                                </div>
                            </div>

                            <div style="border: 1px solid #eee; border-radius: 4px; overflow: hidden;">
                                <div
                                    style="background: #f9f9f9; padding: 8px 12px; font-size: 0.85em; font-weight: bold; color: #555;">
                                    STEP 2.Ï¢åÏ∏° ÏÉÅÎã® Ï¢ãÏïÑÏöî Î≤ÑÌäº ÌÅ¥Î¶≠
                                </div>
                                <div
                                    style="height: 90px; background: #eee; display: flex; align-items: center; justify-content: center; color: #aaa;">
                                    <img src="images/step2.jpg" alt="Ï¢ãÏïÑÏöîÌÅ¥Î¶≠"
                                        style="width:100%; height:100%; object-fit:cover;">
                                </div>
                            </div>
                            <div style="margin-top: 10px; text-align: center;">
                                <button onclick="copyToClipboard('0047792402', this)"
                                    style="background: #333; color: #fff; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 0.9em;">
                                    'Ïú§Ï´ë' ID Î≥µÏÇ¨ÌïòÍ∏∞
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="progress-sheet-modal" class="bottom-sheet-modal" onclick="closeProgressSheet(event)">
        <div class="sheet-container">

            <button type="button" class="sheet-close-btn" onclick="closeProgressSheet()">
                &times;
            </button>

            <div class="sheet-tabs">
                <button class="sheet-tab-btn active" onclick="switchProgressTab('status', this)">ÏßÑÌñâ ÌòÑÌô©</button>
                <button class="sheet-tab-btn" onclick="switchProgressTab('cheer', this)">ÏùëÏõêÌïòÍ∏∞</button>
            </div>

            <div class="sheet-body-content">

                <div id="tab-p-status" class="tab-content-item" style="display: block;">
                    <div style="padding: 20px 0;">
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            ÌòÑÏû¨ ÏàòÏßëÎêú Î¨¥Î¶ºÎ°ù Î∞è ÏóÖÎç∞Ïù¥Ìä∏ ÌòÑÌô©ÏûÖÎãàÎã§.
                        </p>

                        <div id="home-community-news" class="quest-grid" style="display: block;"></div>
                    </div>
                </div>

                <div id="tab-p-cheer" class="tab-content-item" style="display: none;">
                    <div
                        style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 20px; text-align: center;">

                        <div style="font-size: 3em; margin-bottom: 20px;">üôè</div>

                        <p
                            style="font-size: 1.1em; font-weight: bold; color: #333; margin: 0 0 10px 0; font-family: 'Noto Serif KR', serif;">
                            ÏùëÏõêÏùÄ ÎßàÏùåÏúºÎ°ú Î∞õÍ≤†ÏäµÎãàÎã§.
                        </p>

                        <p style="font-size: 1em; color: #666; margin: 0; font-family: 'Noto Serif KR', serif;">
                            ÎåÄÌòë!
                        </p>

                    </div>
                </div>


            </div>
        </div>
    </div>
    <div id="info-modal" class="info-modal-overlay" onclick="closeInfoModal()">
        <div class="info-modal-card" onclick="event.stopPropagation()">
            <button class="close-modal-btn" onclick="closeInfoModal()">‚úï</button>
            <div class="info-header">
                <img id="modal-img" src="" onerror="this.src='images/logo.png'">
                <h3 id="modal-name">ÏïÑÏù¥ÌÖú Ïù¥Î¶Ñ</h3>
            </div>
            <div class="info-body">
                <p id="modal-desc">ÏÑ§Î™Ö Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.</p>
            </div>
        </div>
    </div>
    <script src="hw.js"></script>
    <script src="script_dummy.js"></script>
    <script src="calc.js"></script>

    <script src="timer.js"></script>

</body>

</html>

</body>

</html>