<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì—°ìš´: í•œêµ­ ìœ„í‚¤</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f2f4f6; color: #191f28; -webkit-tap-highlight-color: transparent; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* í† ìŠ¤ í¬ì¸íŠ¸ ë¸”ë£¨ ë°ì½”ë°” */
        .deco-bar {
            display: inline-block;
            width: 4px;
            height: 16px;
            background-color: #3182f6;
            border-radius: 2px;
            margin-right: 8px;
            vertical-align: middle;
        }

        /* ìŠ¬ë¼ì´ë” íŠ¸ë™ ì• ë‹ˆë©”ì´ì…˜ */
        .slider-track { display: flex; transition: transform 0.5s ease-in-out; }
        
        /* ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ë¡œì§ ìœ ì§€) */
        #main-sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 280px;
            height: 100%;
            background: white;
            z-index: 1000;
            transition: right 0.3s ease;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        #main-sidebar.active { right: 0; }
        #sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }
        #sidebar-overlay.active { display: block; }

        .toss-active:active { transform: scale(0.97); transition: transform 0.1s; }
    </style>
</head>

<body>

    <div id="sidebar-overlay" onclick="closeSidebar()"></div>

    <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-md px-4 py-3 flex items-center gap-3 border-b border-gray-100">
        <div class="flex-1 bg-gray-100 rounded-xl px-4 py-2 flex items-center gap-2">
            <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <input type="text" id="header-search-input" placeholder="ë¬´ë¦¼ì˜ ì •ë³´ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”" 
                class="bg-transparent outline-none text-[15px] w-full placeholder-gray-400">
        </div>
        <button onclick="toggleSidebar()" class="text-gray-500 p-1">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>
    </header>

    <main id="main-content" class="pb-28 max-w-lg mx-auto">
        
        <div id="view-home">
            <section class="mt-4 px-4">
                <div class="hero-slider-wrapper relative w-full aspect-[21/10] bg-gray-200 rounded-3xl overflow-hidden shadow-sm">
                    <div id="hero-slider-track" class="slider-track h-full"></div>
                    <div id="slider-indicators" class="absolute bottom-4 left-0 right-0 flex justify-center gap-1.5"></div>
                </div>
            </section>

            <section class="mt-8 px-4">
                <div class="mb-3 flex items-center">
                    <span class="deco-bar"></span>
                    <h3 class="text-lg font-bold">ê¸°ë³¸ ê°€ì´ë“œ</h3>
                </div>
                <div class="grid grid-cols-3 gap-2">
                    <script>
                        const guides = [
                            { name: 'ê°•í˜¸ ì…ë¬¸ì„œ', link: 'newb.html', icon: 'ğŸ“œ' },
                            { name: 'ìœ¡ì„± ê°€ì´ë“œ', link: 'guide/up.html', icon: 'ğŸ“ˆ' },
                            { name: 'ë¬¸íŒŒ ì…ë¬¸', link: 'moon.html', icon: 'ğŸ›ï¸' },
                            { name: 'ì¥ë¹„ ë„ê°', link: 'guide/weapon.html', icon: 'âš”ï¸' },
                            { name: 'ë¬´ê³µ ë„ê°', link: 'tier_weapon.html', icon: 'ğŸŒ€' },
                            { name: 'ë§ˆì‘ ê°€ì´ë“œ', link: 'majang.html', icon: 'ğŸ€„' }
                        ];
                        guides.forEach(g => {
                            document.write(`
                                <a onclick="openGuideDirect('${g.link}')" class="toss-active group cursor-pointer bg-white rounded-2xl border border-gray-50 shadow-sm overflow-hidden flex flex-col items-center p-2 pt-4">
                                    <div class="w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center text-2xl mb-2 group-hover:scale-110 transition-transform">${g.icon}</div>
                                    <span class="text-[11px] font-bold text-gray-700 text-center mb-2">${g.name}</span>
                                </a>
                            `);
                        });
                    </script>
                </div>
            </section>

            <section class="mt-10">
                <div class="px-4 mb-3 flex items-center justify-between">
                    <div class="flex items-center"><span class="deco-bar"></span><h3 class="text-lg font-bold">ì¸ê¸° ì ìˆ˜</h3></div>
                    <span class="text-xs text-gray-400">ì „ì²´ë³´ê¸° ></span>
                </div>
                <div class="flex overflow-x-auto gap-3 px-4 no-scrollbar">
                    <a onclick="location.href='https://wwm.tips/?q=193'" class="toss-active flex-none w-28 bg-white rounded-2xl border border-gray-50 shadow-sm p-3 flex flex-col items-center">
                        <div class="w-full aspect-square bg-gray-50 rounded-xl flex items-center justify-center mb-2">
                            <img src="images/em/10.png" onerror="this.src='images/logo.png'" class="h-12 object-contain">
                        </div>
                        <span class="text-[12px] font-bold text-gray-700 truncate w-full text-center">ë§ë ¹ ê³µì</span>
                        <span class="text-[10px] text-blue-500 font-medium mt-0.5">í˜‘ê²½</span>
                    </a>
                </div>
            </section>

            <section id="mansarok-container" class="mt-10 px-4">
                <div class="mb-4 flex items-center"><span class="deco-bar"></span><h3 class="text-lg font-bold">ìƒˆë¡œìš´ ë¬´ë¦¼ë¡</h3></div>
                <div id="mansarok-list" class="flex flex-col gap-2"></div>
            </section>
        </div>

        <div id="view-quest" style="display: none;" class="px-4 mt-4">í€˜ìŠ¤íŠ¸ ëª©ë¡ ë·°</div>
        <div id="view-archive" style="display: none;" class="px-4 mt-4">ì—…ì  ë·°</div>
        <div id="view-chunji" style="display: none;" class="px-4 mt-4">ì²œì§€ë¡ ë·°</div>

    </main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-lg border-t border-gray-100 px-6 py-3 flex justify-between items-center z-50">
        <button onclick="switchTab('home')" class="flex flex-col items-center gap-1">
            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
            <span class="text-[11px] font-bold text-blue-600">í™ˆ</span>
        </button>
        <button onclick="switchTab('quest')" class="flex flex-col items-center gap-1 text-gray-400">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
            <span class="text-[11px] font-medium">ë¬´ë¦¼ë¡</span>
        </button>
        <button onclick="location.href='map/'" class="flex flex-col items-center gap-1 text-gray-400">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path d="M9 20l-5.447-2.724A2 2 0 013 15.487V6.513a2 2 0 011.553-1.943L9 2l6 3 5.447-2.724A2 2 0 0121 4.236v8.974a2 2 0 01-1.553 1.943L15 18l-6 2z"></path></svg>
            <span class="text-[11px] font-medium">ì§€ë„</span>
        </button>
        <button onclick="switchTab('chunji')" class="flex flex-col items-center gap-1 text-gray-400">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
            <span class="text-[11px] font-medium">ì²œì§€ë¡</span>
        </button>
    </nav>

    <aside id="main-sidebar">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-xl font-bold">ì „ì²´ ë©”ë‰´</h2>
                <button onclick="closeSidebar()" class="text-2xl text-gray-400">&times;</button>
            </div>
            <ul class="space-y-6">
                <li><a href="#" onclick="switchTab('home'); closeSidebar();" class="text-lg font-medium">ğŸ  í™ˆ</a></li>
                <li><a href="#" onclick="switchTab('quest'); closeSidebar();" class="text-lg font-medium">ğŸ“œ ë¬´ë¦¼ë¡</a></li>
                <li><a href="#" onclick="switchTab('archive'); closeSidebar();" class="text-lg font-medium">ğŸ† ì—…ì  ë„ê°</a></li>
                <li><a href="#" onclick="switchTab('chunji'); closeSidebar();" class="text-lg font-medium">ğŸ“š ì²œì§€ë¡</a></li>
            </ul>
        </div>
    </aside>

    <script>
        // ì‚¬ì´ë“œë°” í† ê¸€ í•¨ìˆ˜
        function toggleSidebar() {
            document.getElementById('main-sidebar').classList.add('active');
            document.getElementById('sidebar-overlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // ì‚¬ì´ë“œë°” ë‹«ê¸° í•¨ìˆ˜
        function closeSidebar() {
            document.getElementById('main-sidebar').classList.remove('active');
            document.getElementById('sidebar-overlay').classList.remove('active');
            document.body.style.overflow = '';
        }

        // íƒ­ ì „í™˜ í•¨ìˆ˜ (SPA ë°©ì‹)
        function switchTab(tabId) {
            const views = ['view-home', 'view-quest', 'view-archive', 'view-chunji'];
            views.forEach(v => {
                const el = document.getElementById(v);
                if(el) el.style.display = (v === 'view-' + tabId) ? 'block' : 'none';
            });
            window.scrollTo(0, 0);
        }

        // ê°€ì´ë“œ ë§í¬ ì—´ê¸° í•¨ìˆ˜
        function openGuideDirect(url) {
            console.log("ê°€ì´ë“œ ì´ë™:", url);
            // location.href = url; // ì‹¤ì œ ì—°ê²° ì‹œ ì£¼ì„ í•´ì œ
        }
    </script>

    <script src="hw.js"></script>
    <script src="script.js"></script>
    <script src="timer.js"></script>

</body>
</html>
